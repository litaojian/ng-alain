
<my-modal [isModal]="isModalShow" (initRows)=hasChange($event)>
      <div class="myModal-title">
          <span *ngIf="!numOne">区域添加</span>
          <span *ngIf="numOne">区域修改</span>
      </div>
      <div class="myModal-content">
          <div nz-row [nzGutter]="24">
                <div nz-col [nzSpan]="24" class="mb-md">
                        <div nz-form-item class="d-flex" style="margin-bottom:0px">
                            <span id="mustTime">*</span>
                            <div nz-form-label><label for="dcnr">过车时间：</label></div>
                            <div nz-form-control class="flex-1">
                              <my-datepicker *ngIf="!numOne" name="kssj" [(ngModel)]="search.gcsj_gt" [options]="{format:'YYYY-MM-DD hh:mm:ss'}"></my-datepicker>
                              <my-datepicker *ngIf="numOne" name="kssj" [(ngModel)]="search2.gcsj_gt" [options]="{format:'YYYY-MM-DD hh:mm:ss'}"></my-datepicker>
                            </div>
                            <span style="padding-left:5px;padding-right:5px;">--</span>
                            <div nz-form-control class="flex-1">
                                <my-datepicker *ngIf="!numOne" name="jssj" [(ngModel)]="search.gcsj_lte" [options]="{format:'YYYY-MM-DD hh:mm:ss'}"></my-datepicker>
                                <my-datepicker *ngIf="numOne" name="jssj" [(ngModel)]="search2.gcsj_lte" [options]="{format:'YYYY-MM-DD hh:mm:ss'}"></my-datepicker>
                            </div>
                        </div>
                </div>
                <div nz-col [nzSpan]="24" class="mb-md">
                        <div nz-form-item class="d-flex" style="margin-bottom:0px">
                            <div nz-form-label><label for="kkname">号牌号码：</label></div>
                            <div nz-form-control class="flex-1">
                                <nz-input *ngIf="!numOne" [(ngModel)]="search.hphm" [nzPlaceHolder]="'号牌号码'" name="no"></nz-input>
                                <nz-input *ngIf="numOne" [(ngModel)]="search2.hphm" [nzPlaceHolder]="'号牌号码'" name="no"></nz-input>
                            </div>
                        </div>
                </div>
                <div nz-col [nzSpan]="24" class="mb-md">
                        <div nz-form-item class="d-flex" style="margin-bottom:0px">
                            <div nz-form-label><label for="citys">所属地市：</label></div>
                            <div nz-form-control class="flex-1">
                                <my-select2 *ngIf="!numOne" name="citys" (onChange)="seachCounty(search.xzqh)" [(ngModel)]="search.xzqh" url="remote/api/data/valuelist/citys" [fieldKey]="{text:'dmsm1',value:'dmz'}"></my-select2>
                                <my-select2 *ngIf="numOne" name="citys" (onChange)="seachCounty(search2.xzqh)" [(ngModel)]="search2.xzqh" url="remote/api/data/valuelist/citys" [fieldKey]="{text:'dmsm1',value:'dmz'}"></my-select2>
                            </div>
                            <span style="padding-left:5px;padding-right:5px;opacity:0">--</span>
                            <div nz-form-control class="flex-1">
                                <my-select2 *ngIf="!numOne" name="hphm" [(ngModel)]="search.qx" (onChange)="seachKK(search.qx)" [data]="countyList" [fieldKey]="{text:'dmsm1',value:'dmz1'}"></my-select2>
                                <my-select2 *ngIf="numOne" name="hphm" [(ngModel)]="search2.qx" (onChange)="seachKK(search2.qx)" [data]="countyList" [fieldKey]="{text:'dmsm1',value:'dmz1'}"></my-select2>
                            </div>
                        </div>
                </div>
                <div nz-col [nzSpan]="24" class="mb-md">
                        <div nz-form-item class="d-flex" style="margin-bottom:0px">
                            <div nz-form-label><label for="kkname">卡口名称：</label></div>
                            <div nz-form-control class="flex-1">
                                <my-select2 *ngIf="!numOne" name="kkmc" [(ngModel)]="search.kkmc" [data]="kkList" [fieldKey]="{text:'dmsm1',value:'dmz'}"></my-select2>
                                <my-select2 *ngIf="numOne" name="kkmc" [(ngModel)]="search2.kkmc" [data]="kkList" [fieldKey]="{text:'dmsm1',value:'dmz'}"></my-select2>
                            </div>
                        </div>
                </div>
            </div>
      </div>
      <div class="myModal-footer">
           <div nz-row [nzGutter]="24">
                <div nz-col [nzSpan]="24" class="mb-md">               
                    <button nz-button type="submit" [nzType]="'primary'" [nzSize]="'large'" (click)="onConcel()">取消</button>
                    <button nz-button type="submit" [nzType]="'primary'" [nzSize]="'large'" (click)="addMessage()" *ngIf="!numOne">添加</button>
                    <button nz-button type="submit" [nzType]="'primary'" [nzSize]="'large'" (click)="onSave()" *ngIf="numOne">保存</button>
                </div>
          </div>
      </div>
</my-modal>
<!--查询条件部分 *ngIf="!ifMoreSearch"-->
<div class="tab-pane-all">
     <standard-form-row [title]="'区域选择'" block style="padding-bottom: 0px">
            <div class="panel-content">
              <div nz-row [nzGutter]="24">
                        <nz-card nz-col [nzSpan]="3" class="mb-md" *ngFor="let data of list;let i=index" style="cursor:pointer;margin-left: 12px;border-radius:5px;" (click)="carDetail(i)">
                            <ng-template #title>
                                <nz-tooltip [nzTitle]="data.kssj+'--'+data.jssj" [nzPlacement]="'top'">
                                    <p class="det ailName" nz-tooltip>区域信息{{i+1}}</p>
                                </nz-tooltip>
                            </ng-template>
                            <ng-template #extra>
                                <a (click)="delete(i)"><i class="anticon anticon-close-square"></i></a>
                            </ng-template>
                        </nz-card>
                        <nz-card nz-col [nzSpan]="3" class="mb-md" style="cursor:pointer;margin-left: 12px;border-radius:5px;"  (click)="carDetail()">
                            <ng-template #title>
                                <nz-tooltip [nzTitle]="'点击添加区域'" [nzPlacement]="'top'">
                                    <p class="detailName" nz-tooltip style="text-align:center"><i class="anticon anticon-plus"></i></p>
                                </nz-tooltip>
                            </ng-template>
                    </nz-card>
             </div>
        </div>
    </standard-form-row>
    <standard-form-row [title]="'其它选项'" grid last>
    </standard-form-row>
 </div>
<!--<nz-table #nzTable id="searchList" [nzPageSize]="pagination.rows" [nzPageIndex]="pagination.curPage" [nzAjaxData]="data" nzShowQuickJumper nzShowTotal [nzTotal]="datanums" (nzPageIndexChange)="indexChange($event)">
            
                <thead nz-thead *ngIf="showLp==true">
                <tr>
                    <th nz-th [nzWidth]="'100px'"><span>号牌号码</span></th>
                    <th nz-th [nzWidth]="'100px'"><span>号牌种类</span></th>
                    <th nz-th [nzWidth]="'150px'"><span>过车时间</span></th>
                    <th nz-th [nzWidth]="'350px'"><span>卡口名称</span></th>
                    <th nz-th [nzWidth]="'150px'"><span>行驶方向</span></th>
                    <th nz-th [nzWidth]="'100px'"><span>行驶速度</span></th>
                    <th nz-th [nzWidth]="'100px'"><span>车辆类型</span></th>
                    <th nz-th [nzWidth]="'50px'"><span>操作</span></th>
                </tr>
                </thead>
           
            <tbody nz-tbody *ngIf="showLp==true">
                <tr nz-tbody-tr *ngFor="let data of nzTable.data">
                    <td nz-td>{{data.hphm}}</td>
                    <td nz-td>{{data.hpzl}}</td>
                    <td nz-td>{{data.gcsj}}</td>
                    <td nz-td title="{{data.kkbh}}">{{data.kkbh}}</td>
                    <td nz-td>{{data.xsfx}}</td>
                    <td nz-td>{{data.clsu}}</td>
                    <td nz-td>{{data.cllx}}</td>
                    <td nz-td style="color:#108ee9;cursor:pointer" (click)="carDetailMore(title, content,footer,800,data)">详情</td>
               </tr>
            </tbody>
            <div nz-row [nzGutter]="24" class="showCarPhoto" *ngIf="showLp==false">
                    <div nz-col [nzSpan]="6" *ngFor="let item of data">
                        <img src="{{item.tp1}}" alt="" (error)="errorImg()" *ngIf="ifErrorImg==false" title="{{item.kkbh}}" (click)="carDetailMore(title, content,footer,800,data)">
                        <img src="../../../../assets/img/error.jpg" alt=""  *ngIf="ifErrorImg==true" title="{{item.kkbh}}" (click)="carDetailMore(title, content,footer,800,data)">
                        <dl>
                                <dt></dt>
                                <dd>{{item.hphm}}  {{item.hpzl}}</dd>
                                <dd>{{item.gcsj}}</dd>
                            
                        </dl>
                    </div>
            </div>
</nz-table>-->
<!--列表数据显示部分 *ngIf="expandForm" [nzPageSize]="50"-->
<nz-table #nzTable [nzScroll]="{ y: 540 }" id="searchList" [nzPageSize]="8" [nzPageIndex]="1" [nzAjaxData]="data" nzShowQuickJumper nzShowTotal [nzTotal]="data_total" (nzPageIndexChange)="getSearchData($event)">
      <ng-template #nzFixedHeader>
        <thead nz-thead>
          <tr>
            <th nz-th [nzWidth]="'150px'"><span>号牌号码</span></th>
            <th nz-th [nzWidth]="'150px'"><span>号牌种类</span></th>
            <th nz-th [nzWidth]="'150px'" *ngFor="let tdList of list"><span>区域</span></th>
          </tr>
        </thead>
      </ng-template>
      <tbody nz-tbody>
        <tr nz-tbody-tr  *ngFor="let data of nzTable.data;let i=index">
          <td nz-td>{{data.hphm}}</td>
          <td nz-td>{{data.hpzlmc}}{{i}}</td>
          <td nz-td *ngFor="let tdList of list">2{{i}}</td>
        </tr>
      </tbody>
</nz-table>
<!--<my-table [Myurl]="'remote/api/rest/passrec'" [ifUrl]="Url" (tableLists)="getTabelList($event)" [searchData]="search1">
                 <div class="mytabel-body">
                      <div nz-row [nzGutter]="24" id="tabel_thead">
                          <div nz-col [nzSpan]="8"><span>号牌号码</span> </div>
                          <div nz-col [nzSpan]="8"><span>号牌种类</span></div>
                          <div nz-col [nzSpan]="8"><span>区域</span></div>
                      </div>
                       <div nz-row [nzGutter]="24" id="tabel_body" *ngFor="let data of data">
                          <div nz-col [nzSpan]="8"><span>{{data.hphm}}</span> </div>
                          <div nz-col [nzSpan]="8"><span>{{data.hpzlmc}}</span></div>
                          <div nz-col [nzSpan]="8"><span>{{data.xsfx}}</span></div>
                      </div>
                 </div>
</my-table>-->
<my-loading *ngIf="loadings"></my-loading>