<!--<div class="content__title" style="margin-bottom:0px">
    <h1>
        区域碰撞
    </h1>
</div>-->
<!--<div nz-row [nzGutter]="24" *ngIf="ifMoreSearch">
     <div id="search_more" (click)="showMoreSearch()"><i class="anticon anticon-down"></i>显示查询条件</div>
</div>-->
<my-modal [isModal]="isModalShow" (initRows)=hasChange($event)>
      <div class="myModal-title">
          <span *ngIf="!numOne">区域添加</span>
          <span *ngIf="numOne">区域修改</span>
      </div>
      <div class="myModal-content">
          <div nz-row [nzGutter]="24">
                <div nz-col [nzSpan]="24" class="mb-md">
                        <div nz-form-item class="d-flex" style="margin-bottom:0px">
                            <span id="mustTime">*</span>
                            <div nz-form-label><label for="dcnr">过车时间：</label></div>
                            <div nz-form-control class="flex-1">
                              <my-datepicker *ngIf="!numOne" name="kssj" [(ngModel)]="search.gcsj_gt" [options]="{format:'YYYY-MM-DD hh:mm:ss'}"></my-datepicker>
                              <my-datepicker *ngIf="numOne" name="kssj" [(ngModel)]="search2.gcsj_gt" [options]="{format:'YYYY-MM-DD hh:mm:ss'}"></my-datepicker>
                            </div>
                            <span style="padding-left:5px;padding-right:5px;">--</span>
                            <div nz-form-control class="flex-1">
                                <my-datepicker *ngIf="!numOne" name="jssj" [(ngModel)]="search.gcsj_lte" [options]="{format:'YYYY-MM-DD hh:mm:ss'}"></my-datepicker>
                                <my-datepicker *ngIf="numOne" name="jssj" [(ngModel)]="search2.gcsj_lte" [options]="{format:'YYYY-MM-DD hh:mm:ss'}"></my-datepicker>
                            </div>
                        </div>
                </div>
                <div nz-col [nzSpan]="24" class="mb-md">
                        <div nz-form-item class="d-flex" style="margin-bottom:0px">
                            <div nz-form-label><label for="kkname">号牌号码：</label></div>
                            <div nz-form-control class="flex-1">
                                <nz-input *ngIf="!numOne" [(ngModel)]="search.hphm" [nzPlaceHolder]="'号牌号码'" name="no"></nz-input>
                                <nz-input *ngIf="numOne" [(ngModel)]="search2.hphm" [nzPlaceHolder]="'号牌号码'" name="no"></nz-input>
                            </div>
                        </div>
                </div>
                <div nz-col [nzSpan]="24" class="mb-md">
                        <div nz-form-item class="d-flex" style="margin-bottom:0px">
                            <div nz-form-label><label for="citys">所属地市：</label></div>
                            <div nz-form-control class="flex-1">
                                <my-select2 *ngIf="!numOne" name="citys" (onChange)="seachCounty(search.xzqh)" [(ngModel)]="search.xzqh" url="remote/api/data/valuelist/citys" [fieldKey]="{text:'dmsm1',value:'dmz'}"></my-select2>
                                <my-select2 *ngIf="numOne" name="citys" (onChange)="seachCounty(search2.xzqh)" [(ngModel)]="search2.xzqh" url="remote/api/data/valuelist/citys" [fieldKey]="{text:'dmsm1',value:'dmz'}"></my-select2>
                            </div>
                            <span style="padding-left:5px;padding-right:5px;opacity:0">--</span>
                            <div nz-form-control class="flex-1">
                                <my-select2 *ngIf="!numOne" name="hphm" [(ngModel)]="search.qx" (onChange)="seachKK(search.qx)" [data]="countyList" [fieldKey]="{text:'dmsm1',value:'dmz1'}"></my-select2>
                                <my-select2 *ngIf="numOne" name="hphm" [(ngModel)]="search2.qx" (onChange)="seachKK(search2.qx)" [data]="countyList" [fieldKey]="{text:'dmsm1',value:'dmz1'}"></my-select2>
                            </div>
                        </div>
                </div>
                <div nz-col [nzSpan]="24" class="mb-md">
                        <div nz-form-item class="d-flex" style="margin-bottom:0px">
                            <div nz-form-label><label for="kkname">卡口名称：</label></div>
                            <div nz-form-control class="flex-1">
                                <my-select2 *ngIf="!numOne" name="kkmc" [(ngModel)]="search.kkmc" [data]="kkList" [fieldKey]="{text:'dmsm1',value:'dmz'}"></my-select2>
                                <my-select2 *ngIf="numOne" name="kkmc" [(ngModel)]="search2.kkmc" [data]="kkList" [fieldKey]="{text:'dmsm1',value:'dmz'}"></my-select2>
                            </div>
                        </div>
                </div>
            </div>
      </div>
      <div class="myModal-footer">
           <div nz-row [nzGutter]="24">
                <div nz-col [nzSpan]="24" class="mb-md">               
                    <button nz-button type="submit" [nzType]="'primary'" [nzSize]="'large'" (click)="onConcel()">取消</button>
                    <button nz-button type="submit" [nzType]="'primary'" [nzSize]="'large'" (click)="addMessage()" *ngIf="!numOne">添加</button>
                    <button nz-button type="submit" [nzType]="'primary'" [nzSize]="'large'" (click)="onSave()" *ngIf="numOne">保存</button>
                </div>
          </div>
      </div>
</my-modal>
<div class="tab-pane-all">
    <my-panel [myTitle]="'区域选择'" [myClass]="'car'">
        <div class="panel-content">
              <div nz-row [nzGutter]="24" style="margin-top:14px">
                        <nz-card nz-col [nzSpan]="3" class="mb-md" *ngFor="let data of list;let i=index" style="cursor:pointer;margin-left: 12px;border-radius:5px;" (click)="carDetail(i)">
                            <ng-template #title>
                                <nz-tooltip [nzTitle]="data.gcsj_gt+'--'+data.gcsj_lte" [nzPlacement]="'top'">
                                    <p class="det ailName" nz-tooltip>区域信息{{i+1}}</p>
                                </nz-tooltip>
                            </ng-template>
                            <ng-template #extra>
                                <a (click)="delete(i)"><i class="anticon anticon-close-square"></i></a>
                            </ng-template>
                        </nz-card>
                        <nz-card nz-col [nzSpan]="3" class="mb-md" style="cursor:pointer;margin-left: 12px;border-radius:5px;"  (click)="carDetail()">
                            <ng-template #title>
                                <nz-tooltip [nzTitle]="'点击添加区域'" [nzPlacement]="'top'">
                                    <p class="detailName" nz-tooltip style="text-align:center"><i class="anticon anticon-plus"></i></p>
                                </nz-tooltip>
                            </ng-template>
                    </nz-card>
             </div> 
             <div nz-row [nzGutter]="24" class="searchButton">
                   <button nz-button type="submit" [nzType]="'primary'" [nzSize]="'large'" (click)="getSearchData(1)">查询</button>
             </div> 
        </div>
    </my-panel>
 </div>
<!--列表数据显示部分 *ngIf="expandForm" [nzPageSize]="50"-->
<!--<nz-table #nzTable [nzScroll]="{ y: 540 }" id="searchList" [nzPageSize]="8" [nzPageIndex]="1" [nzAjaxData]="data" nzShowQuickJumper nzShowTotal [nzTotal]="data_total" (nzPageIndexChange)="getSearchData($event)">
      <ng-template #nzFixedHeader>
        <thead nz-thead>
          <tr>
            <th nz-th [nzWidth]="'150px'"><span>号牌号码</span></th>
            <th nz-th [nzWidth]="'150px'"><span>号牌种类</span></th>
            <th nz-th [nzWidth]="'150px'" *ngFor="let tdList of list"><span>区域</span></th>
          </tr>
        </thead>
      </ng-template>
      <tbody nz-tbody>
        <tr nz-tbody-tr  *ngFor="let data of nzTable.data;let i=index">
          <td nz-td>{{data.hphm}}</td>
          <td nz-td>{{data.hpzlmc}}{{i}}</td>
          <td nz-td *ngFor="let tdList of list">2{{i}}</td>
        </tr>
      </tbody>
</nz-table>-->
<my-table [Myurl]="'remote/api/rest/passrec'" [ifUrl]="Url" (tableLists)="getTabelList($event)" [searchData]="search1">
                 <div class="mytabel-body">
                      <div nz-row [nzGutter]="24" id="tabel_thead">
                          <div nz-col [nzSpan]="8"><span>号牌号码</span> </div>
                          <div nz-col [nzSpan]="8"><span>号牌种类</span></div>
                          <div nz-col [nzSpan]="8"><span>区域</span></div>
                      </div>
                       <div nz-row [nzGutter]="24" id="tabel_body" *ngFor="let data of data">
                          <div nz-col [nzSpan]="8"><span>{{data.hphm}}</span> </div>
                          <div nz-col [nzSpan]="8"><span>{{data.hpzlmc}}</span></div>
                          <div nz-col [nzSpan]="8"><span>{{data.xsfx}}</span></div>
                      </div>
                 </div>
</my-table>
<my-loading *ngIf="loadings"></my-loading>