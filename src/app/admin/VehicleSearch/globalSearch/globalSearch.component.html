<div class="content__title">
    <h1>
        过车查询结果
    </h1>
</div>
<!--列表数据显示部分 *ngIf="expandForm" [nzPageSize]="50"-->
<nz-tabset [nzTabPosition]="'top'" [nzType]="'card'" id="showType" *ngIf="expandForm">
    <nz-tab>
        <ng-template #nzTabHeading>
          列表展示
        </ng-template>
         <nz-table #nzTable [nzScroll]="{ y: 240 }" id="searchList">
            <ng-template #nzFixedHeader>
                <thead nz-thead>
                <tr>
                    <th nz-th [nzWidth]="'150px'"><span>过车时间</span></th>
                    <th nz-th [nzWidth]="'350px'"><span>卡口名称</span></th>
                    <th nz-th [nzWidth]="'100px'"><span>号牌号码</span></th>
                    <th nz-th [nzWidth]="'100px'"><span>号牌种类</span></th>
                    <th nz-th [nzWidth]="'150px'"><span>行驶方向</span></th>
                    <th nz-th [nzWidth]="'100px'"><span>行驶速度</span></th>
                    <th nz-th [nzWidth]="'100px'"><span>车辆类型</span></th>
                </tr>
                </thead>
            </ng-template>
            <tbody nz-tbody>
                <tr nz-tbody-tr *ngFor="let data of datas" (click)="carDetail(title, content, footer,data.fxbh,800)">
                    <td nz-td>{{data.gcsj}}</td>
                    <td nz-td>{{data.kkmc}}</td>
                    <td nz-td>{{data.hphm}}</td>
                    <td nz-td>{{data.hpzlmc}}</td>
                    <td nz-td style="text-align:left" title="{{data.fxbhmc}}">{{data.fxbhmc}}</td>
                    <td nz-td>{{data.xssd}}</td>
                    <td nz-td>{{data.cllx}}</td>
               </tr>
            </tbody>
        </nz-table>
    </nz-tab>
    <nz-tab>
        <ng-template #nzTabHeading>
          图表展示
        </ng-template>
        <nz-list [nzLoading]="loading" [nzDataSource]="datas"
         [nzGrid]="{gutter: 24, lg: 6, md: 8, sm: 12, xs: 24 }" [nzBordered]="false">
            <ng-template #item let-item>
                <nz-list-item>
                    <nz-card nzHoverable id="ant-avatar-lg">
                        <ng-template #cover><nz-avatar [nzSrc]="item.tp1" [nzSize]="'large'" [nzShape]="'square'"></nz-avatar></ng-template>
                        <nz-card-meta
                            [nzTitle]="nzTitle"
                            [nzDescription]="item.hpzlmc">
                            <ng-template #nzTitle><a (click)="msg.success('标题：' + item.id);">{{item.hphm}}</a></ng-template>
                        </nz-card-meta>
                        <div class="card-item-content">
                            <span class="text-grey">{{item.gcsj}}</span>
                            <avatar-list size="mini">
                                <avatar-list-item *ngFor="let m of item.members"
                                                    [src]="m.avatar"
                                                    [tips]="m.name"></avatar-list-item>
                            </avatar-list>
                        </div>
                    </nz-card>
                </nz-list-item> 
            </ng-template>
        </nz-list>
    </nz-tab>
</nz-tabset>
 <my-loading *ngIf="loading"></my-loading>
 <div nz-col [nzSpan]="24" class="mb-md" [class.text-center]="true" *ngIf="datas.length<=0">
        暂无数据
</div>
<nz-pagination *ngIf="expandForm" [nzPageIndex]="search._page" [nzTotal]="datanums" nzShowQuickJumper [nzPageSize]="search._limit" nzShowTotal (nzPageIndexChange)="getSearchData($event)"></nz-pagination>
<!--<my-pagination url="remote/api/rest/passrec" (initRows)="successData($event)" searchData="{{searchOption}}"></my-pagination>-->
<!--显示详情-->
<nz-modal [nzContent]="modalContent">
    <ng-template #title>
      <span>过车图片展示</span>
    </ng-template>
    <ng-template #content>
      <div>
         <div nz-row>
            <div nz-col [nzSpan]="8" style="text-align:center">
                <nz-popover>
                    <img src="{{dataOne.tp1}}" alt="" style="width:200px" nz-popover>
                    <ng-template #nzTemplate>
                        <img src="{{dataOne.tp1}}" alt="">
                    </ng-template>
                </nz-popover>
                <!--<img src="http://i2.hexunimg.cn/2015-11-09/180426542.jpg" alt="" style="width:150px" nz-popover>-->
            </div>
            <div nz-col [nzSpan]="8" style="text-align:center">
               <nz-popover>
                    <img src="{{dataOne.tp1}}" alt="" style="width:200px" nz-popover>
                    <ng-template #nzTemplate>
                        <img src="{{dataOne.tp1}}" alt="">
                    </ng-template>
                </nz-popover>
            </div>
             <div nz-col [nzSpan]="8" style="text-align:center">
                 <nz-popover>
                    <img src="{{dataOne.tp1}}" alt="" style="width:200px" nz-popover>
                    <ng-template #nzTemplate>
                        <img src="{{dataOne.tp1}}" alt="">
                    </ng-template>
                </nz-popover>
            </div>
        </div>
         <nz-collapseset>
              <nz-collapse [nzTitle]="'过车信息'" [nzActive]="true">
                 <p class="carMessage">
                    <span>号牌号码：</span>
                    <span class="carMessageSpan">{{dataOne.hphm}}</span>
                    <span>号牌种类：</span>
                    <span class="carMessageSpan">{{dataOne.hpzlmc}}</span>
                    <span>车辆类型：</span>
                    <span class="carMessageSpan">宝马</span>
                </p>
                <p class="carMessage">
                    <span>过车时间：</span>
                    <span class="carMessageSpan">{{dataOne.gcsj}}</span>
                    <span>号牌颜色：</span>
                    <span class="carMessageSpan">{{dataOne.hpysmc}}</span>
                    <span>行驶速度：</span>
                    <span class="carMessageSpan">{{dataOne.xssd}}</span>              
                </p>
                <p class="carMessage">
                    <span>行驶方向：</span>
                    <span class="carMessageSpan">由东向西</span>
                    <span>设备信息：</span>
                    <span class="carMessageSpan">232323</span>
                    <span>车道信息：</span>
                    <span class="carMessageSpan">车道1</span>                 
                </p>
                <p class="carMessage">
                    <span>卡口名称：</span>
                    <span style="width:150px" class="carMessageSpan">{{dataOne.kkmc}}</span>
                    
                </p>
            </nz-collapse>
        </nz-collapseset>
         <nz-collapseset>
              <nz-collapse [nzTitle]="'机动车信息'">
                
                <p class="carMessage">
                    <span>号牌号码：</span>
                    <span class="carMessageSpan">{{dataOne.hphm}}</span>
                    <span>号牌种类：</span>
                    <span class="carMessageSpan">{{dataOne.hpzlmc}}</span>
                    <span>车辆类型：</span>
                    <span class="carMessageSpan">大型汽车</span>
                </p>
                <p class="carMessage">
                    <span>车辆型号：</span>
                    <span class="carMessageSpan">suv</span>
                    <span>车辆品牌：</span>
                    <span class="carMessageSpan">宝马</span>
                    <span>车身颜色：</span>
                    <span class="carMessageSpan">白色</span>
                </p>
                <p class="carMessage">
                    <span>联系电话：</span>
                    <span class="carMessageSpan">12345678901</span>
                </p>
                <p class="carMessage">
                    <span style="width:120px">机动车所有人：</span>
                    <span class="carMessageSpan">阳关耐特</span>
                </p>
                 <p class="carMessage">
                    <span>详细地址：</span>
                    <span style="width:500px" class="carMessageSpan">东风中路越秀桥路段</span> 
                </p>
                 
            </nz-collapse>
        </nz-collapseset>
      </div>
    </ng-template>
    <ng-template #footer>
      <div>
        <!--<button nz-button [nzType]="'primary'" [nzSize]="'large'" (click)="handleOk($event)" [nzLoading]="isConfirmLoading">
          提 交
        </button>-->
      </div>
    </ng-template>
</nz-modal>
<!--导出数据-->
 <nz-modal [nzVisible]="isVisible" [nzTitle]="'导出数据'" [nzContent]="modalContent" [nzOkText]="'导出'" (nzOnCancel)="handleCancel()">
      <ng-template #modalContent>
          <div nz-col [nzSpan]="24" class="mb-md">
                <div nz-form-item class="d-flex" style="margin-bottom:0px">
                    <div nz-form-label><label for="dcnr">导出内容</label></div>
                    <div nz-form-control class="flex-1">
                          <my-select2 name="dcnr" [(ngModel)]="putout.dcnr" [data]="dcList" [fieldKey]="{text:'dmsm1',value:'dmz'}"></my-select2>
                    </div>
                </div>
        </div>
        <div nz-col [nzSpan]="24" class="mb-md">
                <div nz-form-item class="d-flex" style="margin-bottom:0px">
                    <div nz-form-label><label for="dcsl">导出数量</label></div>
                    <div nz-form-control class="flex-1">
                         <nz-input [(ngModel)]="putout.dcsl" [nzPlaceHolder]="'导出数量'" name="dcsl"></nz-input>
                    </div>
                </div>
            </div>
        <p>1.导出数据最多只能导出2000条； 2.导出图片</p>
      </ng-template>
 </nz-modal>
  <!--<ng-template #pagination>
            <nz-pagination [nzTotal]="6" [nzPageSize]="5" [nzSize]="'large'" (nzPageIndexChange)="pageSearchData($event)"></nz-pagination>
   </ng-template>-->
<!--</nz-card>-->