<div class="content__title">
    <h1>角色<small>基于角色分配权限</small></h1>
    <button nz-button (click)="edit({id:0})" [nzType]="'primary'">添加</button>
</div>
<form nz-form [nzLayout]="'inline'" class="search-form">
    <div nz-form-item>
        <div nz-form-control>
            <nz-input [(ngModel)]="queryForm['rolename']" name="rolename" nzPlaceHolder="'角色'"></nz-input>
        </div>
    </div>
    <div nz-form-item>
        <div nz-form-control>
            <button nz-button>查询</button>
        </div>
    </div>
</form>
<nz-table #nzTable class="simple-table" [nzAjaxData]="tableData" [nzTotal]="totalCount" [(nzPageIndex)]="pageIndex" [(nzPageSize)]="pageSize" (nzPageIndexChange)="goPage()" [nzBordered]="true" [nzSize]="'middle'">
    <thead nz-thead>
        <tr>
            <th nz-th [nzWidth]="'100px'">编号</th>
            <th nz-th>角色名称</th>
            <th nz-th>角色描述</th>
            <th nz-th [nzWidth]="'100px'">状态</th>
            <th nz-th [nzWidth]="'180px'"></th>
        </tr>
    </thead>
    <tbody nz-tbody>
        <tr nz-tbody-tr *ngFor="let i of nzTable.data">
            <td>{{i.role}}</td>
            <td>{{i.rolename}}</td>
            <td>{{i.description}}</td>
            <td>{{i.isactive}}</td>
            <td>
                <a *ngIf="row.roleid " href="javascript:void(0) " (click)="onEditRow(row) ">编辑</a>
                <span nz-table-divider></span>
                <a *ngIf="row.roleid " href="javascript:void(0) " (click)="onDeleteRow(row) ">删除</a>
                <span nz-table-divider></span>
                <a *ngIf="row.roleid " href="javascript:void(0) " (click)="onRoleMenu(row) ">关联菜单</a>
            </td>
        </tr>
    </tbody>
</nz-table>